{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}Heladeritrix üç®{% endblock %}</title>
    <link rel="stylesheet" href="{% static 'blog/style.css' %}">
</head>
<body>
    <!-- Modal de mensajes -->
<div id="message-modal" class="modal">
    <div class="modal-content">
        <span id="close-modal" class="close">&times;</span>
        <p id="message-text"></p>
    </div>
</div>
{% block content %}
<!-- MENSAJES -->
{% if messages %}
<div class="messages">
    {% for message in messages %}
        <div class="alert {{ message.tags }}">{{ message }}</div>
    {% endfor %}
</div>
{% endif %}

<!-- BARRA DE NAVEGACI√ìN -->
<header>
    <div class="logo">
        <h1>Heladeritrix</h1>
    </div>
    <nav>
        <ul>
            <li><a href="{% url 'blog:home' %}">Inicio</a></li>
            <li><a href="#">Productos</a></li>
            <li><a href="#contacto">Contacto</a></li>
            <li><a href="{% url 'user:user' %}">Usuario</a></li>
        </ul>
    </nav>
</header>
<!-- Modal de mensajes -->
<div id="message-modal" class="message-modal" style="display:none;">
    <div class="message-content">
        <span id="message-text"></span>
        <button id="close-message" class="btn-primary" style="margin-top: 15px;">Cerrar</button>
    </div>
</div>

<style>
.message-modal {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: rgba(0,0,0,0.5);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 999;
}
.message-content {
    background: #fff;
    padding: 30px 40px;
    border-radius: 15px;
    text-align: center;
    box-shadow: 0 8px 25px rgba(0,0,0,0.3);
    font-size: 18px;
}
</style>

<script>
document.addEventListener('DOMContentLoaded', () => {
    {% if messages %}
        const modal = document.getElementById('message-modal');
        const messageText = document.getElementById('message-text');
        modal.style.display = 'flex';
        messageText.innerHTML = "{% for message in messages %}{{ message|escapejs }}{% if not forloop.last %}\n{% endif %}{% endfor %}";
        document.getElementById('close-message').addEventListener('click', () => {
            modal.style.display = 'none';
        });
    {% endif %}
    
});
</script>

<script>
function showMessage(message) {
    const modal = document.getElementById('message-modal');
    const text = document.getElementById('message-text');
    const closeBtn = document.getElementById('close-modal');

    text.innerText = message;
    modal.style.display = 'block';

    closeBtn.onclick = function() {
        modal.style.display = 'none';
    }

    // cerrar autom√°ticamente despu√©s de 3 segundos
    setTimeout(() => { modal.style.display = 'none'; }, 3000);
}
</script>
</body>
</html>
{% endblock %}
